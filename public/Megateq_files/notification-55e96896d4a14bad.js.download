(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9138],{88540:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/setting/notification",function(){return r(54202)}])},54202:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(85893),n=r(67294),a=r(25675),i=r.n(a),o=r(2846),c=e=>{let{data:t}=e,r=(e,t)=>{(null!==e||void 0!==e||""!==e)&&("data"===e?router.push("/dashboard/buydata"):"cable"===e?router.push("/dashboard/cabletv"):"airtime"===e?router.push("/dashboard/airtime"):"electricity"===e?router.push("/dashboard/electricity"):"airtime_cash"===e?router.push("/dashboard/airtimetocash"):console.log(e))};return(0,s.jsx)("div",{children:(null==t?void 0:t.length)>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-x-8",children:null==t?void 0:t.map((e,t)=>(0,s.jsxs)("div",{onPress:()=>r(e.link,e.data),className:"cursor-pointer bg-white rounded-2xl shadow-md shadow-black/10 mt-2 w-full",children:[(0,s.jsx)(i(),{width:100,height:100,className:"block w-full object-cover rounded-t-lg object-center",src:(0,o.XI)(e.image)}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(i(),{src:"/logoColor.png",width:20,height:20,className:"w-5 h-5 rounded-full mr-2"})}),(0,s.jsx)("p",{className:"font-nunito-bold text-sm",children:e.subject})]}),(0,s.jsx)("p",{className:"text-xs my-2 mx-1",children:e.content})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between border-t border-gray-100 py-2 px-1",children:[(0,s.jsx)("p",{className:"text-xs",children:(0,o.BJ)(e.created_at)}),(0,s.jsx)("button",{className:"flex flex-row items-center",children:(0,s.jsx)("p",{className:"mr-1 text-primary-900 font-nunito-bold text-xs",children:"View"})})]})]})]},t))})})},l=r(11163),d=r(91666),m=r(97794),x=e=>{let{data:t}=e,{fetchNotifications:r}=(0,m.J)(),n=(0,l.useRouter)(),a=e=>{if(e.is_read){var t;n.push("/dashboard/transaction/".concat(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.reference))}else try{(0,d.ZP)().get("/mark-notifications/read/".concat(e.id)).then(t=>{var s;r(),n.push("/dashboard/transaction/".concat(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.reference))}).catch(e=>{console.log(e)})}catch(e){console.log(e)}};return(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-x-4",children:t.map((e,t)=>{var r,n;return(0,s.jsxs)("div",{onClick:()=>a(e),className:"bg-primary-900/10 p-4 rounded-2xl mt-2 sm:mt-4 cursor-pointer",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i(),{src:"/logoColor.png",width:30,height:30,className:"w-5 h-5 rounded-full mr-2"}),!(null==e?void 0:e.is_read)&&(0,s.jsx)("div",{className:"absolute right-1 top-0 w-1 h-1 bg-red-500 rounded-full"})]}),(0,s.jsx)("p",{className:"font-nunito-bold text-sm",children:null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.subject})]}),(0,s.jsx)("p",{className:"text-xs mt-1 mx-1 text-black font-nunito-light",children:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between mt1 sm:mt-3 border-t border-gray-100 py-2 px-1",children:[(0,s.jsx)("p",{className:"text-xs",children:(0,o.BJ)(e.created_at)}),(0,s.jsx)("div",{className:"flex flex-row items-center",children:(0,s.jsx)("p",{className:"mr-1 text-primary-900 text-xs font-nunito-bold",children:"View"})})]})]},t)})})},u=r(87369),h=r(42835),p=r(44481),g=r(1822),j=r.n(g),f=()=>{let{fetchNotifications:e,getAdvert:t}=(0,m.J)({middleware:"auth",redirectIfAuthenticated:"/login"}),[r,a]=(0,n.useState)("transaction"),[{userNotifications:i,siteAdverts:o},l]=(0,u.C4)(),d=e=>{a(e)};return(0,n.useEffect)(()=>{t(),e()},[]),(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(p.TQ,{title:"Notification",description:j().description}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-1 mt-4 lg:mt-0 mx-2 lg:mx-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex flex-row items-center",children:[{name:"Transactions",key:"transaction"},{name:"Services",key:"services"}].map((e,t)=>(0,s.jsx)("button",{onClick:()=>d(e.key),className:"".concat(r===e.key?"border border-green-200 bg-green-100":"border border-gray-300 bg-gray-200","  mr-3 px-6 py-2 rounded-full"),children:(0,s.jsx)("p",{className:"".concat(r===e.key?"text-green-700":""," text-sm"),children:e.name})},t))}),(0,s.jsx)("div",{className:"mt-2",children:(()=>{switch(r){case"transaction":return(0,s.jsx)(x,{data:i});case"services":return(0,s.jsx)(c,{data:o});default:return(0,s.jsx)(x,{navigation:navigation,data:i})}})()})]}),(0,s.jsx)("div",{})]})]})}},44481:function(e,t,r){"use strict";r.d(t,{Kx:function(){return m},TQ:function(){return d},V_:function(){return l}});var s=r(85893),n=r(9008),a=r.n(n),i=r(11163),o=r(1822),c=r.n(o);let l=e=>{let{title:t,description:r,ogType:n,ogImage:o,twImage:l,canonicalUrl:d}=e,m=(0,i.useRouter)();return(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:t}),(0,s.jsx)("meta",{name:"robots",content:"follow, index"}),(0,s.jsx)("meta",{name:"description",content:r}),(0,s.jsx)("meta",{property:"og:url",content:"".concat(c().siteUrl).concat(m.asPath)}),(0,s.jsx)("meta",{property:"og:type",content:n}),(0,s.jsx)("meta",{property:"og:site_name",content:c().title}),(0,s.jsx)("meta",{property:"og:description",content:r}),(0,s.jsx)("meta",{property:"og:title",content:t}),"Array"===o.constructor.name?o.map(e=>{let{url:t,index:r}=e;return(0,s.jsx)("meta",{property:"og:image",content:t},r+1)}):(0,s.jsx)("meta",{property:"og:image",content:o},o),(0,s.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,s.jsx)("meta",{name:"twitter:site",content:c().twitter}),(0,s.jsx)("meta",{name:"twitter:title",content:t}),(0,s.jsx)("meta",{name:"twitter:description",content:r}),(0,s.jsx)("meta",{name:"twitter:image",content:l}),(0,s.jsx)("link",{rel:"shortcut icon",href:"favicon.ico"}),(0,s.jsx)("link",{rel:"canonical",href:d||"".concat(c().siteUrl).concat(m.asPath)})]})},d=e=>{let{title:t,description:r}=e,n=c().siteUrl+c().socialBanner,a=c().siteUrl+c().socialBanner;return(0,s.jsx)(l,{title:t,description:r,ogType:"website",ogImage:n,twImage:a})},m=e=>{let{title:t,meta:r,thumbnail:n,createdAt:o,url:d,canonicalUrl:m}=e,x={weekday:"long",year:"numeric",month:"long",day:"numeric"};(0,i.useRouter)();let u=new Date(o).toLocaleDateString(c().locale,x),h=new Date(o||o).toLocaleDateString(c().locale,x),p=null!=n?n:[c().socialBanner];return c().author,"".concat(c().siteUrl).concat(c().siteLogoColor),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l,{title:t,description:r,ogType:"product",ogImage:p,twImage:p,canonicalUrl:m}),(0,s.jsxs)(a(),{children:[o&&(0,s.jsx)("meta",{property:"product:published_time",content:u}),o&&(0,s.jsx)("meta",{property:"product:modified_time",content:h})]})]})}}},function(e){e.O(0,[3365,5640,3559,8866,7794,7799,2835,2888,9774,179],function(){return e(e.s=88540)}),_N_E=e.O()}]);