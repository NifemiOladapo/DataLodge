(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5812],{20327:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/fund",function(){return n(34838)}])},89706:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(85893);n(63885);var a=n(87369),l=n(2846);function i(e){let t=t=>{let[{userInfo:n}]=(0,a.C4)();return(0,s.jsx)(e,{...t,userInfo:n})};return t.getInitialProps=async t=>{var n,s;let{req:a,res:i}=t,r=(0,l.jl)((null==a?void 0:null===(n=a.headers)||void 0===n?void 0:n.cookie)||""),o=(0,l.Gi)((null==a?void 0:null===(s=a.headers)||void 0===s?void 0:s.cookie)||"");return r||(i?(i.writeHead(302,{Location:"/login"}),i.end()):window.location.href="/login"),{...e.getInitialProps&&await e.getInitialProps(t),user:{isLoggedIn:r,isEmailVerified:o}}},t}},50030:function(e,t,n){"use strict";var s=n(67294),a=n(86455),l=n.n(a),i=n(91666),r=n(5791),o=n(1822),c=n.n(o);t.Z=e=>{let[t,n]=(0,s.useState)({title:"",message:""}),a=async()=>{try{var t,s;if(sessionStorage.getItem("notificationShown_".concat(e.page)))return;let a=(await (0,i.ZP)().get("/all/site/notification")).data.data.filter(t=>t.page===e.page);n({title:null===(t=a[0])||void 0===t?void 0:t.subject,message:null===(s=a[0])||void 0===s?void 0:s.message})}catch(e){console.log(e)}};return(0,s.useEffect)(()=>{a()},[e.page]),(0,s.useEffect)(()=>{t.title&&t.message&&(l().fire({title:t.title,text:t.message,confirmButtonText:"Okay",showCloseButton:!0,timer:1e4,confirmButtonColor:r.O.primary,customClass:{popup:"c-popup",image:c().siteLogoColor}}),sessionStorage.setItem("notificationShown_".concat(e.page),"true"))},[t,e.page]),null}},43817:function(e,t,n){"use strict";var s=n(85893);n(67294);var a=n(11163),l=n(52091),i=n(32694),r=n(87369);t.Z=e=>{let{title:t,beneficiary:n}=e,o=(0,a.useRouter)(),[{activePage:c,supportModalStatus:d,emailModalStatus:u,userInfo:m},x]=(0,r.C4)();return(0,s.jsxs)("div",{className:"mb-4 hidden lg:flex justify-between items-center mx-7",children:[(0,s.jsxs)("button",{onClick:()=>{x({type:i.J.SET_ACTIVE_PAGE,activePage:o.asPath}),o.back()},className:"flex items-center space-x-3 font-nunito-bold",children:[(0,s.jsx)("div",{className:"bg-primary-100/10 rounded-full px-2 py-2 flex justify-center",children:(0,s.jsx)(l.bUI,{size:13})}),(0,s.jsx)("p",{children:t})]}),n&&(0,s.jsxs)("button",{onClick:()=>{o.push("/dashboard/beneficiary")},className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"bg-primary-100/10 rounded-full w-10 px-2 py-3 flex justify-center",children:(0,s.jsx)(l.ALl,{size:15})}),(0,s.jsx)("p",{className:"font-nunito-bold",children:"Beneficiary"})]})]})}},34838:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var s=n(85893),a=n(67294),l=n(86501),i=n(52091),r=n(50030),o=n(43817),c=n(11163),d=n(86455),u=n.n(d),m=n(5791),x=n(87369),h=n(97794),p=()=>{var e;let t=(0,c.useRouter)(),{createVirtualAccount:n,generateVirtualAccount:r}=(0,h.J)({middleware:"auth",redirectIfAuthenticated:"/login"}),[{userInfo:o,oneTimeModalStatus:d},p]=(0,x.C4)(),[f,j]=(0,a.useState)(""),[y,v]=(0,a.useState)({type:"",status:!1}),g=(null==o?void 0:o.virtual_account)||[],b=null==g?void 0:g.map(e=>e.bank_name),w=["Providus Virtual Account","Rehoboth Bank","Wema bank"].filter(e=>!b.includes(e)),N=async e=>{try{await navigator.clipboard.writeText(e),l.ZP.success("Account number copied.")}catch(e){console.error("Copy to clipboard failed:",e)}},_=e=>{(null==o?void 0:o.hasVerifyWallet)?r({type:e,setGenerating:v}):u().fire({title:"Attention",text:"To create a virtual account you must complete your kyc verification",showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Proceed",cancelButtonText:"Cancel",cancelButtonColor:"red",confirmButtonColor:m.O.primary,customClass:{title:"swal2-title-custom"}}).then(e=>{e.isConfirmed&&t.push("/dashboard/profile")})};return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-nunito-bold mx-5 text-lg",children:"Automatically Fund Wallet"}),(0,s.jsxs)("div",{className:"bg-[#FE911C]/30 rounded-2xl px-8 py-4 mt-5 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex space-x-2 items-center mt-1",children:[(0,s.jsx)("div",{children:(0,s.jsx)(i.gJy,{size:17,color:"#FE911C"})}),(0,s.jsx)("p",{className:"text-left text-xs font-nunito-bold",children:"A sum of N100.00 will be charged for this service."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.G5m,{size:15,color:"#FE911C"})})]}),(0,s.jsx)("p",{className:" font-nunito-bold mx-5 text-sm mt-2",children:"Kindly pay or deposit into any of our bank account"}),(0,s.jsxs)("div",{children:[(null==o?void 0:o.virtual_account.length)>0?(0,s.jsx)("div",{children:null==o?void 0:null===(e=o.virtual_account)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)("div",{onClick:()=>{f===e.id?j(""):j(e.id)},className:"rounded-md w-full px-5 border border-gray-200 my-4",children:[(0,s.jsx)("div",{className:"bg-white",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 px-4",children:[(0,s.jsx)("p",{className:"font-nunito-bold text-xs",children:null==e?void 0:e.bank_name}),(0,s.jsx)("div",{className:"bg-primary-100 rounded-full w-8 px-1 py-2 flex justify-center",children:f===e.id?(0,s.jsx)(i.RiI,{size:14,color:m.O.white}):(0,s.jsx)(i.Dli,{size:14,color:m.O.white})})]})}),f===e.id&&(0,s.jsxs)("div",{className:"bg-white mt-1 px-2 py-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,s.jsx)("p",{className:"text-xs text-left px-1 lg:px-3",children:"Bank Name"}),(0,s.jsx)("p",{className:"text-sm text-right px-1 lg:px-3 font-nunito-bold",children:e.bank_name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsx)("p",{className:"text-xs text-left px-1 lg:px-3",children:"Account Name"}),(0,s.jsx)("p",{className:"text-xs lg:text-sm text-right px-1 lg:px-3 font-nunito-bold",children:e.account_name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsx)("p",{className:"text-xs text-left px-1 lg:px-3",id:"auto_account",children:e.account_number}),(0,s.jsxs)("button",{onClick:()=>N(e.account_number),className:"flex items-center space-x-1 mr-2",children:[(0,s.jsx)("p",{className:"text-sm text-right px-1 lg:px-3 font-nunito-bold",children:"Copy"}),(0,s.jsx)("div",{children:(0,s.jsx)(i.esY,{size:15})})]})]})]})]},t))}):null,w.length>0&&(0,s.jsxs)("div",{className:"flex-col items-center mt-4",children:[w.includes("Providus Virtual Account")&&(0,s.jsxs)("button",{onClick:()=>_("providus"),className:"flat-button flex items-center justify-center space-x-2",children:["providus"===y.type&&!0===y.status&&(0,s.jsx)(l.c0,{size:"small",color:m.O.white}),(0,s.jsx)("p",{children:" Generate Providus Accounts"})]}),w.includes("Rehoboth Bank")&&(0,s.jsxs)("button",{onClick:()=>_("rehoboth"),className:"flat-button flex items-center justify-center space-x-2",children:["rehoboth"===y.type&&!0===y.status&&(0,s.jsx)(l.c0,{size:"small",color:m.O.white}),(0,s.jsx)("p",{children:"Generate Rehoboth Accounts"})]}),w.includes("Wema bank")&&(0,s.jsxs)("button",{onClick:()=>_("wema"),className:"flat-button flex items-center justify-center space-x-2",children:["wema"===y.type&&!0===y.status&&(0,s.jsx)(l.c0,{size:"small",color:m.O.white}),(0,s.jsx)("p",{children:"Generate Wema Accounts"})]})]})]})]})},f=n(25675),j=n.n(f),y=n(3748),v=n(91666),g=n(32694),b=n(2846),w=()=>{var e;let[{userInfo:t},n]=(0,x.C4)(),[r,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)({megateq_account_number:"",code:"",amount:""}),[p,f]=(0,a.useState)({}),[w,N]=(0,a.useState)(!1),[_,C]=(0,a.useState)("generate_code"),k=[{key:"generate_code",name:"Generate Code"},{key:"verify_code",name:"Verify Code"},{key:"send_money",name:"Send Money"}],P=(e,t)=>{"code"===t||("amount"===t?e<200?f({amount:"You can only send above ".concat((0,b.XY)(200))}):f({}):"account_number"===t&&(e.length<10||e.length>10?f({account_number:"Invalid account number. Please enter a valid account number."}):f({}))),h(n=>({...n,[t]:e}))},S=(e,t)=>{"amount"===t&&((null===u.amount||void 0===u.amount||""===u.amount)&&f({amount:"Please enter amount to recharge."}),e<200?(N(!0),f({amount:"You can only send above ".concat((0,b.XY)(200))})):(f({}),N(!1)))},E=async e=>{try{await navigator.clipboard.writeText(e),l.ZP.success("Account number copied.")}catch(e){console.error("Copy to clipboard failed:",e)}};return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"mx-auto",children:[(0,s.jsxs)("div",{className:"relative bg-primary-900 h-[180px] w-[300px] mb-3 lg:mb-0 lg:w-[320px] rounded-[15px] lg:mx-3 p-6 shadow-sm shadow-primary-400 overflow-hidden",children:[(0,s.jsxs)("div",{className:" flex items-center justify-between z-40",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white text-sm font-nunito-bold",children:"Megateq Account"}),(0,s.jsx)("p",{className:"text-white text-xs",children:null==t?void 0:null===(e=t.level)||void 0===e?void 0:e.name})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 bg-white rounded-full h-10 px-3 py-4 z-40",children:[(0,s.jsx)("p",{className:"text-primary-900 text-xs",children:"Active"}),(0,s.jsx)("div",{className:"bg-primary-900 p-2 rounded-full",children:(0,s.jsx)(i.l_A,{size:10,color:m.O.white})})]})]}),(0,s.jsxs)("div",{className:"mt-8 z-40",children:[(0,s.jsx)("div",{children:(null==t?void 0:t.megateq_account_number)?(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)("p",{className:"text-white mr-4",children:null==t?void 0:t.megateq_account_number}),(0,s.jsx)("button",{onClick:()=>E(null==t?void 0:t.megateq_account_number),children:(0,s.jsx)(i.esY,{name:"copy",color:m.O.white,size:20})})]}):(0,s.jsxs)("button",{className:"flex flex-row justify-start py-1",onClick:()=>{try{o(!0),(0,v.ZP)().get("/generate/megateq/account").then(e=>{let{data:t}=e;o(!1),n({type:g.J.SET_MESSAGE_STATUS,message_status:{type:"success",message:t.message}})}).catch(e=>{let t=(0,b.y7)(e);console.log(t),o(!1),l.ZP.error("There was an error generating your account. Please try again!")})}catch(e){o(!1),console.log((0,b.y7)(e)),l.ZP.error("There was an error generating your account. Please try again!")}},children:[(0,s.jsx)("p",{className:"text-primary-900 bg-white py-2 px-6 font-nunito-bold rounded-full",children:"Generate"}),r&&(0,s.jsx)(l.c0,{size:20,color:m.O.white})]})}),(0,s.jsx)("p",{className:"text-white font-nunito-extra-bold text-lg",children:(0,b.XY)(parseInt(null==t?void 0:t.balance))})]}),(0,s.jsx)("div",{className:"absolute rounded-full -bottom-5 -left-6 z-10",children:(0,s.jsx)(j(),{src:"/images/star3.png",width:80,height:80})}),(0,s.jsx)("div",{className:"absolute rounded-full -top-5 -right-6 z-10",children:(0,s.jsx)(j(),{src:"/images/star3.png",width:80,height:80})})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h5",{className:"font-nunito-bold text-lg",children:"Send Money"}),(0,s.jsx)("p",{className:"text-sm",children:"Transfer money to another megateq account"}),(0,s.jsx)("div",{className:"flex flex-row items-center justify-evenly space my-4",children:k.map((e,t)=>(0,s.jsx)("div",{className:"".concat(_===e.key?"border-b-2 border-primary-900":""," mr-4 flex flex-row items-center text-center"),children:(0,s.jsx)("p",{className:"font-nunito-bold text-xs sm:text-md",children:e.name})},t))}),(0,s.jsx)("div",{children:"generate_code"===_?(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("buttton",{className:"px-4 py-4 bg-primary-900 rounded-lg flex flex-row items-center justify-center cursor-pointer",onClick:()=>{try{d(!0),(0,v.ZP)().get("/generate/transfer/code").then(e=>{let{data:t}=e;d(!1),l.ZP.success(t.message),(0,b.zm)(_,k,C)}).catch(e=>{let t=(0,b.y7)(e);console.log(t),d(!1),l.ZP.error("There was an error generating transfer code. Please try again!")})}catch(e){d(!1),console.log((0,b.y7)(e)),l.ZP.error("There was an error generating transfer code. Please try again!")}},children:[(0,s.jsx)("p",{className:"text-white text-center font-nunito-bold mr-2",children:"Generate Code"}),c&&(0,s.jsx)(l.c0,{size:20,color:m.O.white})]})}):"verify_code"===_?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(y.Z,{label:"Code",placeholder:"0000",type:"number",maxLength:"4",className:"reoutline",error:p.code,onChange:e=>P(e.target.value,"code"),onBlur:e=>S(e.target.value,"code")})}),(0,s.jsxs)("button",{className:"px-4 py-4 bg-primary-900 mt-2 rounded-lg flex flex-row items-center justify-center cursor-pointer w-full",onClick:()=>{try{d(!0),(0,v.ZP)().post("/verify/transfer/code",{code:u.code}).then(e=>{let{data:t}=e;d(!1),n({type:g.J.SET_MESSAGE_STATUS,message_status:{type:"success",message:t.message}}),(0,b.zm)(_,k,C)}).catch(e=>{d(!1);let t=(0,b.y7)(e);console.log(t),l.ZP.error(t.message)})}catch(e){d(!1),console.log((0,b.y7)(e)),l.ZP.error("There was an error verifying transfer code. Please try again!")}},children:[(0,s.jsx)("p",{className:"text-white text-center font-nunito-bold mr-2",children:"Verify Code"}),c&&(0,s.jsx)(l.c0,{size:20,color:m.O.white})]})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(y.Z,{label:"Account Number",placeholder:"000-0000-0000",type:"number",maxLength:"11",className:"reoutline",error:p.megateq_account_number,onChange:e=>P(e.target.value,"megateq_account_number"),onBlur:e=>S(e.target.value,"megateq_account_number")})}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(y.Z,{label:"Amount",placeholder:"₦1000",type:"number",className:"reoutline",error:p.amount,onChange:e=>P(e.target.value,"amount"),onBlur:e=>S(e.target.value,"amount")})}),(0,s.jsxs)("button",{className:"px-4 py-4 bg-primary-900 mt-2 rounded-lg flex flex-row items-center justify-center cursor-pointer w-full",onClick:()=>{try{d(!0),(0,v.ZP)().post("/megateq/transfer/money",{megateq_account_number:u.megateq_account_number,amount:u.amount}).then(e=>{let{data:t}=e;d(!1),l.ZP.success(t.message),h({megateq_account_number:"",code:"",amount:""}),C("generate_code")}).catch(e=>{let t=(0,b.y7)(e);console.log(t),d(!1),l.ZP.error("There was an error initiating the transfer. Please try again!")})}catch(e){d(!1),console.log((0,b.y7)(e)),l.ZP.error("There was an error initiating the transfer. Please try again!")}},disabled:w||c,children:[(0,s.jsx)("p",{className:"text-white text-center font-bold mr-2",children:"Send"}),c&&(0,s.jsx)(l.c0,{size:20,color:m.O.white})]})]})})]})]})})},N=n(44080),_=n(46125),C=e=>{let{open:t,setOpen:n,handleClick:r}=e,[{userInfo:o,oneTimeAccountDetails:c},d]=(0,x.C4)(),u=async()=>{try{let e=document.getElementById("account_number_id");await navigator.clipboard.writeText(e.innerText),l.ZP.success("Account number copied.")}catch(e){console.error("Copy to clipboard failed:",e)}};return(0,s.jsx)(N.u.Root,{show:t,as:a.Fragment,children:(0,s.jsx)(_.V,{as:"div",className:"fixed z-50 inset-0 overflow-y-auto",onClose:n,children:(0,s.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)(N.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)(_.V.Overlay,{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("span",{className:"hidden sm:inline:block sm:align-middle sm:h-screen",children:"​"}),(0,s.jsx)(N.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0  sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"w-full sm:w-[400px] min-h-[150px] inline-block align-right bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-primary font-nunito-extra-bold text-2xl",children:"One-Time Account Details"}),(0,s.jsx)("button",{onClick:r,children:(0,s.jsx)(i.GjQ,{color:m.O.danger})})]}),(0,s.jsx)("p",{className:"text-xs pr-5 mt-1 mb-3",children:null==c?void 0:c.message}),(0,s.jsxs)("div",{className:"my-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)("p",{children:"Bank Name "}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("p",{className:"font-nunito-bold text-xs",children:null==c?void 0:c.bank_name})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)("p",{children:"Account Name "}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("p",{className:"font-nunito-bold text-xs",children:null==c?void 0:c.account_name})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-4",children:[(0,s.jsx)("p",{children:"Account Number "}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("button",{onClick:u,className:"flex items-center",children:[(0,s.jsx)("p",{className:"text-sm text-right px-1 lg:px-3 font-nunito-bold",children:"Copy"}),(0,s.jsx)("div",{children:(0,s.jsx)(i.esY,{size:15})})]})})]}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"font-nunito-bold text-xs",id:"account_number_id",children:null==c?void 0:c.account_number})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)("p",{className:"text-red-500",children:"Expires At "}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("p",{className:"font-nunito-bold text-xs text-red-500",children:"In the next 30mins"})})]})]})]})})})]})})})},k=()=>{var e;let[{userInfo:t,oneTimeModalStatus:n},r]=(0,x.C4)(),{createOneTimeAccount:o}=(0,h.J)(),[c,d]=(0,a.useState)(!1),[p,f]=(0,a.useState)({}),[j,v]=(0,a.useState)({amount:""}),[w,N]=(0,a.useState)(!1),[_,k]=(0,a.useState)(""),P=(e,t)=>{v(n=>({...n,[t]:e}))},S=(e,t)=>{""==j.amount?(N(!0),f({amount:"Please enter amount to fund wallet."})):(f({}),N(!1)),""!=j.amount&&e<50?(N(!0),f({amount:"You cannot fund this amount with the funding option."})):(f({}),N(!1))},E=()=>{r({type:g.J.ONETIMEMODAL,oneTimeModalStatus:!n})},T=async()=>{try{let e=document.getElementById("account_number_id");await navigator.clipboard.writeText(e.innerText),l.ZP.success("Account number copied.")}catch(e){console.error("Copy to clipboard failed:",e)}};return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-nunito-bold mx-5 text-lg",children:"One Time Account Funding"}),(0,s.jsxs)("div",{className:"bg-[#FE911C]/30 rounded-2xl px-8 py-4 mt-5 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex space-x-2 items-center mt-1",children:[(0,s.jsx)("div",{children:(0,s.jsx)(i.gJy,{size:17,color:"#FE911C"})}),(0,s.jsxs)("p",{className:"text-left text-xs font-nunito-bold",children:["The dynamic account is just valid for 30mins from creation; after that it will no longer be active, you will need to generate another one. A service fee of ",(0,b.XY)(40)," is applicable on all funding."]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.G5m,{size:15,color:"#FE911C"})})]}),(0,s.jsx)("div",{className:"my-4 px-2",children:(0,s.jsx)("div",{children:(null==t?void 0:t.dynamic_virtual_account.length)>0?(0,s.jsx)("div",{children:null==t?void 0:null===(e=t.dynamic_virtual_account)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)("div",{onClick:()=>{_===e.id?k(""):k(e.id)},className:"rounded-md w-full px-1 border border-gray-200 my-4",children:[(0,s.jsx)("div",{className:"bg-white",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 px-4",children:[(0,s.jsx)("p",{className:"font-nunito-bold text-xs",children:null==e?void 0:e.bank_name}),(0,s.jsx)("div",{className:"bg-primary-100 rounded-full w-8 px-1 py-2 flex justify-center",children:_===e.id?(0,s.jsx)(i.RiI,{size:14,color:m.O.white}):(0,s.jsx)(i.Dli,{size:14,color:m.O.white})})]})}),_===e.id&&(0,s.jsxs)("div",{className:"bg-white mt-1 px-2 py-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,s.jsx)("p",{className:"text-xs text-left px-1 lg:px-3",children:"Bank Name"}),(0,s.jsx)("p",{className:"text-sm text-right px-1 lg:px-3 font-nunito-bold",children:e.bank_name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsx)("p",{className:"text-xs text-left px-1 lg:px-3",children:"Account Name"}),(0,s.jsx)("p",{className:"text-xs lg:text-sm text-right px-1 lg:px-3 font-nunito-bold",children:e.account_name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsx)("p",{className:"text-xs text-left px-1 lg:px-3",id:"account_number_id",children:e.account_number}),(0,s.jsxs)("button",{onClick:T,className:"flex items-center space-x-1 mr-2",children:[(0,s.jsx)("p",{className:"text-sm text-right px-1 lg:px-3 font-nunito-bold",children:"Copy"}),(0,s.jsx)("div",{children:(0,s.jsx)(i.esY,{size:15})})]})]})]})]},t))}):(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(y.Z,{label:"Enter amount to fund wallet",placeholder:"",type:"number",className:"reoutline",required:!0,error:p.amount,onChange:e=>P(e.target.value,"amount"),onBlur:e=>S(e.target.value,"amount")})}),(0,s.jsx)("div",{className:"flex items-center space-x-2 mt-2",children:(0,s.jsx)("button",{onClick:()=>{u().fire({title:"Create One-time Account",text:"Are you sure you want to create a One-time account to fund your wallet with ".concat((0,b.XY)(j.amount),"?"),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",cancelButtonColor:"red",confirmButtonColor:m.O.primary}).then(e=>{e.isConfirmed&&o({...j,setIsLoading:d})})},disabled:w||!j.amount,className:"".concat(j.amount?"flat-button":"flat-button-disabled"," font-nunito-regular backdrop-invert"),children:c?(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(l.c0,{size:20,color:"white"})}):(0,s.jsx)("p",{children:"Generate"})})})]})})}),(0,s.jsx)(C,{open:n,setOpen:E,handleClick:E})]})},P=n(90591),S=n(1822),E=n.n(S),T=()=>{let[{userInfo:e,sitePaymentGateways:t},n]=(0,x.C4)(),r=null==t?void 0:t.find(e=>"Paystack"===e.name),[o,c]=(0,a.useState)({amount:""}),[d,h]=(0,a.useState)(""),[p,f]=(0,a.useState)(null),j=(t,n)=>{var s,a;parseInt(t)>parseInt(null==e?void 0:null===(s=e.level)||void 0===s?void 0:s.daily_transfer_limit)&&u().fire({title:"Exceeded transfer limit",text:"You are about to fund more than your limit which is "+(0,b.XY)(null==e?void 0:null===(a=e.level)||void 0===a?void 0:a.daily_transfer_limit),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Continue",cancelButtonText:"No",cancelButtonColor:"red",confirmButtonColor:m.O.primary}).then(e=>{e.isConfirmed?c(e=>({...e,[n]:t})):c({amount:""})}),c(e=>({...e,[n]:t}))},v={reference:new Date().getTime(),tx_ref:new Date().getTime(),payment_options:"card,bank,ussd,qr,mobile_money,bank_transfer,pay_attitude",email:null==e?void 0:e.email,amount:"Paystack"===d?100*o.amount:o.amount,publicKey:"pk_live_e651369e1579cc052028ef9220f865d71e8754b1",apiKey:null==r?void 0:r.public_key,secretKey:"sk_live_2187aacf5a88d59501e8c60a5fd2c95b305fba63",contractCode:null==r?void 0:r.contract_code,currency:"NGN",customer:{email:null==e?void 0:e.email,phone_number:null==e?void 0:e.phone_number,name:(null==e?void 0:e.profile.first_name)+" "+(null==e?void 0:e.profile.last_name)},callback_url:"https://app.megateq.net/api/v1/webhook/paystack"},g=e=>{"success"===e.status?u().fire({title:"Payment Success",text:"Your payment was successful. Your account will be credited shortly. Thank you!",icon:"success",confirmButtonText:"OK",showCloseButton:!0}).then(e=>{(e.isConfirmed||e.dismiss===u().DismissReason.close)&&(window.location.pathname="/dashboard")}):u().fire({title:"Payment Error",text:"There was an error with the payment. Your account will be credited shortly. Please try again.",icon:"error",confirmButtonText:"OK",showCloseButton:!0})},w=()=>{l.ZP.success("Payment cancelled!")},N=e=>{h(e)};return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-nunito-bold mx-5 text-lg",children:"ATM Card/Transfer Funding"}),(0,s.jsxs)("div",{className:"bg-[#FE911C]/30 rounded-2xl px-8 py-4 mt-5 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex space-x-2 items-center mt-1",children:[(0,s.jsx)("div",{children:(0,s.jsx)(i.gJy,{size:17,color:"#FE911C"})}),(0,s.jsx)("p",{className:"text-left text-xs font-nunito-bold",children:"A sum of N100.00 will be charged for this service."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.G5m,{size:15,color:"#FE911C"})})]}),(0,s.jsx)("p",{className:" font-nunito-bold mx-5 text-sm mt-2",children:"Kindly pay or deposit into any of our bank account"}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("button",{onClick:()=>N(null==r?void 0:r.name),className:"".concat(d===(null==r?void 0:r.name)?"bg-primary-900":"border border-gray-300 bg-white text-primary-900"," p-3 rounded-md w-full h-10 my-2"),children:(0,s.jsx)("h1",{className:"".concat(d===(null==r?void 0:r.name)?"text-white font-nunito-bold":""," text-sm text-center"),children:null==r?void 0:r.name})}),d&&(0,s.jsx)("div",{className:"my-2",children:(0,s.jsx)(y.Z,{placeholder:"".concat(E().currency,"1000"),label:"Amount to pay",type:"number",className:"reoutline",onChange:e=>j(e.target.value,"amount")})}),(0,s.jsxs)("div",{className:"mt-5 mb-[100px]",children:["Paystack"===d&&(0,s.jsx)(()=>{let e=(0,P.NL)(v);return(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:()=>{e(g,w)},className:"flat-button font-regular backdrop-invert",children:"Pay now"})})},{}),"Monnify"===d&&(0,s.jsx)(()=>(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:()=>{var t;MonnifySDK.initialize({...v,customerFullName:null==e?void 0:null===(t=e.profile)||void 0===t?void 0:t.username,customerEmail:null==e?void 0:e.email,paymentDescription:"Fund wallet",metadata:{name:(null==e?void 0:e.profile.first_name)+" "+(null==e?void 0:e.profile.last_name)},onLoadStart:()=>{console.log("loading has started")},onLoadComplete:()=>{console.log("SDK is UP")},onComplete:function(e){console.log(e),l.ZP.success("Your payment was successful. Your account will be credited shortly. Thank you!")},onClose:function(e){console.log(e),l.ZP.success("Payment cancelled!")}})},className:"flat-button font-regular backdrop-invert",children:"Pay now"})}),{})]})]})]})},O=n(89706),A=n(42835),B=n(39084),z=n(44481),Z=(0,O.Z)(()=>{let e;let{submitTransferForm:t}=(0,h.J)({middleware:"auth",redirectIfAuthenticated:"/login"}),[{userInfo:n,siteSetting:c,oneTimeModalStatus:d},u]=(0,x.C4)(),[f,j]=(0,a.useState)(3),[y,v]=(0,a.useState)(""),g=async()=>{try{let e=document.getElementById("auto_account");await navigator.clipboard.writeText(e.innerText),l.ZP.success("Account number copied.")}catch(e){console.error("Copy to clipboard failed:",e)}};switch(f){case"1":e=(0,s.jsx)(T,{});break;case"2":e=(0,s.jsx)(p,{});break;case"3":default:e=(0,s.jsx)(k,{});break;case"4":e=(0,s.jsx)(w,{})}let b=()=>{var e;let t=null==n?void 0:null===(e=n.virtual_account)||void 0===e?void 0:e.find(e=>{var t;return e.bank_name.toLowerCase().includes(null==c?void 0:null===(t=c.default_virtual_account)||void 0===t?void 0:t.toLowerCase())});t?v(t):v(null==n?void 0:n.virtual_account[0])};return(0,a.useEffect)(()=>{b()},[n]),(0,s.jsxs)(A.Z,{children:[(0,s.jsx)(z.TQ,{title:"Fund Wallet",description:E().description}),(0,s.jsx)(r.Z,{page:"fund-wallet"}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)(o.Z,{title:"Go Back"}),(0,s.jsxs)("div",{className:"flex sm:flex-row flex-col justify-center",children:[(0,s.jsxs)("div",{className:"bg-primary-900 px-4 py-6 h-full lg:w-[400px] rounded-lg shadow-lg mx-2",children:[(0,s.jsx)("p",{className:"text-white font-nunito-bold mx-5 text-lg",children:"Wallet Account Details"}),(0,s.jsxs)("div",{className:"bg-[#108A00] rounded-2xl px-8 py-4 mt-5",children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-white text-xs ",children:"Wallet Account Number"})}),(0,s.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white text-left text-xs",id:"auto_account",children:null==y?void 0:y.bank_name}),(0,s.jsx)("p",{className:"text-white text-left",id:"auto_account",children:null==y?void 0:y.account_number})]}),(0,s.jsx)("button",{onClick:g,children:(0,s.jsx)(i.esY,{size:15,color:m.O.white})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white font-nunito-bold mx-5 text-lg mt-10",children:"Fund Wallet Options"}),(0,s.jsx)("div",{className:"",children:B.Ex.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>{j(e.id)},className:"".concat(e.id==f?"bg-[#108A00]":"bg-white","  rounded-[20px] px-8 py-10 mt-5 flex items-center justify-between mx-auto"),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 ".concat(e.id==f?"bg-white/30":"bg-primary-900/30"," w-8 h-8 rounded-full flex justify-center"),children:(0,s.jsx)(i.ypE,{size:15,color:e.id==f?m.O.white:m.O.primary})}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("p",{className:"".concat(e.id==f?"text-white":" text-primary-900"," text-left text-xs font-nunito-bold"),children:e.name}),(0,s.jsx)("p",{className:"".concat(e.id==f?"text-white":" text-primary-900","  text-left text-[14px]"),children:e.description})]})]}),(0,s.jsx)("div",{className:"ml-5",children:(0,s.jsx)(i.Dli,{size:15,color:e.id==f?m.O.white:m.O.primary})})]},t))})]})]}),(0,s.jsx)("div",{className:"px-2 lg:px-6 py-6 h-full lg:w-[400px] rounded-lg shadow-lg bg-gray-200 mx-2",children:e})]})]})]})})},44481:function(e,t,n){"use strict";n.d(t,{Kx:function(){return u},TQ:function(){return d},V_:function(){return c}});var s=n(85893),a=n(9008),l=n.n(a),i=n(11163),r=n(1822),o=n.n(r);let c=e=>{let{title:t,description:n,ogType:a,ogImage:r,twImage:c,canonicalUrl:d}=e,u=(0,i.useRouter)();return(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:t}),(0,s.jsx)("meta",{name:"robots",content:"follow, index"}),(0,s.jsx)("meta",{name:"description",content:n}),(0,s.jsx)("meta",{property:"og:url",content:"".concat(o().siteUrl).concat(u.asPath)}),(0,s.jsx)("meta",{property:"og:type",content:a}),(0,s.jsx)("meta",{property:"og:site_name",content:o().title}),(0,s.jsx)("meta",{property:"og:description",content:n}),(0,s.jsx)("meta",{property:"og:title",content:t}),"Array"===r.constructor.name?r.map(e=>{let{url:t,index:n}=e;return(0,s.jsx)("meta",{property:"og:image",content:t},n+1)}):(0,s.jsx)("meta",{property:"og:image",content:r},r),(0,s.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,s.jsx)("meta",{name:"twitter:site",content:o().twitter}),(0,s.jsx)("meta",{name:"twitter:title",content:t}),(0,s.jsx)("meta",{name:"twitter:description",content:n}),(0,s.jsx)("meta",{name:"twitter:image",content:c}),(0,s.jsx)("link",{rel:"shortcut icon",href:"favicon.ico"}),(0,s.jsx)("link",{rel:"canonical",href:d||"".concat(o().siteUrl).concat(u.asPath)})]})},d=e=>{let{title:t,description:n}=e,a=o().siteUrl+o().socialBanner,l=o().siteUrl+o().socialBanner;return(0,s.jsx)(c,{title:t,description:n,ogType:"website",ogImage:a,twImage:l})},u=e=>{let{title:t,meta:n,thumbnail:a,createdAt:r,url:d,canonicalUrl:u}=e,m={weekday:"long",year:"numeric",month:"long",day:"numeric"};(0,i.useRouter)();let x=new Date(r).toLocaleDateString(o().locale,m),h=new Date(r||r).toLocaleDateString(o().locale,m),p=null!=a?a:[o().socialBanner];return o().author,"".concat(o().siteUrl).concat(o().siteLogoColor),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{title:t,description:n,ogType:"product",ogImage:p,twImage:p,canonicalUrl:u}),(0,s.jsxs)(l(),{children:[r&&(0,s.jsx)("meta",{property:"product:published_time",content:x}),r&&(0,s.jsx)("meta",{property:"product:modified_time",content:h})]})]})}},63885:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(11163),a=n.n(s);function l(e){let{res:t,status:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?(t.writeHead(n||302,{Location:e}),t.end()):"/"===e[0]&&"/"!==e[1]?a().push(e):window.location=e}},90591:function(e,t,n){"use strict";n.d(t,{Hs:function(){return c},NL:function(){return o}});var s=n(67294),a=function(){return(a=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function l(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)0>t.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}"function"==typeof SuppressedError&&SuppressedError;var i=[],r=function(e){var t=window.PaystackPop&&window.PaystackPop.setup(e);t&&t.openIframe()};function o(e){var t,n,l,o,c=(t="https://js.paystack.co/v1/inline.js",l=(n=(0,s.useState)({loaded:!1,error:!1}))[0],o=n[1],(0,s.useEffect)(function(){if(i.includes(t))o({loaded:!0,error:!1});else{i.push(t);var e=document.createElement("script");e.src=t,e.async=!0;var n=function(){o({loaded:!0,error:!1})},s=function(){var n=i.indexOf(t);n>=0&&i.splice(n,1),e.remove(),o({loaded:!0,error:!0})};return e.addEventListener("load",n),e.addEventListener("complete",n),e.addEventListener("error",s),document.body.appendChild(e),function(){e.removeEventListener("load",n),e.removeEventListener("error",s)}}},[t]),[l.loaded,l.error]),d=c[0],u=c[1];return(0,s.useEffect)(function(){if(u)throw Error("Unable to load paystack inline script")},[u]),function(t){var n=t.config,s=t.onSuccess,l=t.onClose;if(u)throw Error("Unable to load paystack inline script");var i=a(a({},e),n),o=i.publicKey,c=i.firstname,m=i.lastname,x=i.phone,h=i.email,p=i.amount,f=i.reference,j=i.metadata,y=i.currency,v=i.channels,g=i.label,b=i.plan,w=i.quantity,N=i.subaccount,_=i.transaction_charge,C=i.bearer,k=i.split,P=i.split_code;d&&r({callback:s||function(){return null},onClose:l||function(){return null},key:o,ref:f,email:h,firstname:c,lastname:m,phone:x,amount:p,currency:void 0===y?"NGN":y,plan:void 0===b?"":b,quantity:void 0===w?"":w,channels:v,subaccount:void 0===N?"":N,transaction_charge:void 0===_?0:_,bearer:void 0===C?"account":C,label:void 0===g?"":g,metadata:void 0===j?{}:j,split:k,split_code:P,"data-custom-button":i["data-custom-button"]||""})}}var c=function(e){var t=e.text,n=e.className,a=e.children,i=e.onSuccess,r=e.onClose,c=l(e,["text","className","children","onSuccess","onClose"]),d=o(c);return s.createElement("button",{className:n,onClick:function(){return d({config:c,onSuccess:i,onClose:r})}},t||a)},d=(0,s.createContext)({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),u=function(e){var t=e.children,n=e.onSuccess,a=e.onClose,i=l(e,["children","onSuccess","onClose"]),r=o(i);return s.createElement(d.Provider,{value:{config:i,initializePayment:r,onSuccess:n,onClose:a}},t)},m=function(e){var t=e.children,n=e.ref,a=(0,s.useContext)(d),l=a.config,i=a.initializePayment,r=a.onSuccess,o=a.onClose;return t({initializePayment:function(){return i({config:l,onSuccess:r,onClose:o})},ref:n})};(0,s.forwardRef)(function(e,t){var n=e.children,i=e.onSuccess,r=e.onClose,o=l(e,["children","onSuccess","onClose"]);return s.createElement(u,a({},o,{onSuccess:i||function(){return null},onClose:r||function(){return null}}),s.createElement(m,{ref:t},n))})}},function(e){e.O(0,[3365,8166,5640,3559,8866,7794,7799,2835,9084,2888,9774,179],function(){return e(e.s=20327)}),_N_E=e.O()}]);