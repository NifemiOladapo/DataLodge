(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2667],{72876:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/transaction/[id]",function(){return s(18579)}])},89706:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(85893);s(63885);var i=s(87369),l=s(2846);function a(e){let t=t=>{let[{userInfo:s}]=(0,i.C4)();return(0,n.jsx)(e,{...t,userInfo:s})};return t.getInitialProps=async t=>{var s,n;let{req:i,res:a}=t,r=(0,l.jl)((null==i?void 0:null===(s=i.headers)||void 0===s?void 0:s.cookie)||""),c=(0,l.Gi)((null==i?void 0:null===(n=i.headers)||void 0===n?void 0:n.cookie)||"");return r||(a?(a.writeHead(302,{Location:"/login"}),a.end()):window.location.href="/login"),{...e.getInitialProps&&await e.getInitialProps(t),user:{isLoggedIn:r,isEmailVerified:c}}},t}},754:function(e,t,s){"use strict";var n=s(85893),i=s(67294),l=s(25675),a=s.n(l),r=s(1822),c=s.n(r),o=s(44080),d=s(46125);t.Z=function(e){let{open:t,setOpen:s,title:l}=e;return(0,n.jsx)(o.u.Root,{show:t,onClose:s,as:i.Fragment,children:(0,n.jsx)(d.V,{as:"div",className:"fixed z-[70] inset-0 overflow-y-auto",children:(0,n.jsxs)("div",{className:"flex items-center justify-center max-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,n.jsx)(o.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)(d.V.Overlay,{className:"fixed inset-0 bg-primary-900/10 bg-opacity-75 transition-opacity"})}),(0,n.jsx)("span",{className:"hidden sm:inline:block sm:align-middle sm:h-screen",children:"â€‹"}),(0,n.jsx)(o.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0  sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(a(),{src:c().siteLogoColor,alt:"loader image",priority:!0,width:70,height:70,className:"animate-spin"}),(0,n.jsx)("p",{className:"text-primary-900 text-sm mt-5 z-10 font-nunito-bold animate-pulse",children:l})]})})})]})})})}},43817:function(e,t,s){"use strict";var n=s(85893);s(67294);var i=s(11163),l=s(52091),a=s(32694),r=s(87369);t.Z=e=>{let{title:t,beneficiary:s}=e,c=(0,i.useRouter)(),[{activePage:o,supportModalStatus:d,emailModalStatus:x,userInfo:m},u]=(0,r.C4)();return(0,n.jsxs)("div",{className:"mb-4 hidden lg:flex justify-between items-center mx-7",children:[(0,n.jsxs)("button",{onClick:()=>{u({type:a.J.SET_ACTIVE_PAGE,activePage:c.asPath}),c.back()},className:"flex items-center space-x-3 font-nunito-bold",children:[(0,n.jsx)("div",{className:"bg-primary-100/10 rounded-full px-2 py-2 flex justify-center",children:(0,n.jsx)(l.bUI,{size:13})}),(0,n.jsx)("p",{children:t})]}),s&&(0,n.jsxs)("button",{onClick:()=>{c.push("/dashboard/beneficiary")},className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"bg-primary-100/10 rounded-full w-10 px-2 py-3 flex justify-center",children:(0,n.jsx)(l.ALl,{size:15})}),(0,n.jsx)("p",{className:"font-nunito-bold",children:"Beneficiary"})]})]})}},18579:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return w}});var n=s(85893),i=s(67294),l=s(61120),a=s.n(l),r=s(91819),c=s(25675),o=s.n(c),d=s(11163),x=s(86501),m=s(52091),u=s(754),h=s(43817),p=s(87369);s(89706);var j=s(42835),f=s(5791),v=s(2846),g=s(44481),b=s(1822),y=s.n(b),N=s(97794),w=!0;t.default=e=>{var t,s,l,c,b,w,k,_,C,T,P,I,R,D,E;let{transaction:O,trueResponse:L}=e,{}=(0,N.J)({middleware:"auth",redirectIfAuthenticated:"/login"});(0,d.useRouter)();let[{siteSetting:S},B]=(0,p.C4)(),[F,A]=(0,i.useState)(!1),U=(0,i.useRef)(null),z=(0,i.useRef)(null),[Z,Y]=(0,i.useState)(!1),V=e=>{U.current&&!U.current.contains(e.target)&&Y(!1)};(0,i.useEffect)(()=>(document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}),[]);let X=async e=>{try{let t=document.getElementById(e);await navigator.clipboard.writeText(t.innerText),x.ZP.success("Copied successfully.")}catch(e){console.error("Copy to clipboard failed:",e)}};return F?(0,n.jsx)(u.Z,{open:F,setOpen:A,title:"Fetching..."}):(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(g.TQ,{title:"Transaction history details",description:y().description}),(0,n.jsx)(h.Z,{title:"Go Back",beneficiary:!1}),(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center",children:[(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"font-nunito-bold text-sm ml-2 lg:ml-0 mt-1 lg:mt-0",children:"Transaction Result"})}),(0,n.jsxs)("div",{className:"flex space-x-1 items-center mt-2 lg:mt-0",children:[(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>{let e=encodeURIComponent("Dear Admin, i would like to logde a complain about my order with reference id: ".concat(null==O?void 0:O.reference,", "));window.open("https://api.whatsapp.com/send?phone=".concat((0,v.ni)(null==S?void 0:S.whatsapp_number),"&text=").concat(e),"_blank").opener=null},className:"border px-3 py-2 rounded-full",children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("p",{className:"text-[11px] font-nunito-bold text-red-500",children:"Report Transaction"}),(0,n.jsx)(m.bGJ,{size:10,color:"red",className:"transform scale-x-[-1]"})]})})}),(0,n.jsxs)("div",{ref:U,className:"relative",children:[(0,n.jsx)("button",{className:"border px-3 py-2 rounded-full",onClick:()=>{Y(!Z)},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("p",{className:"text-[11px] font-nunito-bold text-primary-900",children:"Download"}),(0,n.jsx)(m.aBF,{size:10,color:f.O.primary})]})}),Z&&(0,n.jsxs)("div",{className:"absolute top-full mt-2 bg-white border rounded-lg shadow-md z-40",children:[(0,n.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",onClick:()=>{a()(z.current,{allowTaint:!0,useCORS:!0}).then(e=>{let t=e.toDataURL("image/png"),s=new r.ZP;s.addImage(t,"PNG",0,0,210,297),s.save("".concat(null==O?void 0:O.reference,"-receipt.pdf"))})},children:(0,n.jsx)("p",{className:"text-xs",children:"Download as PDF"})}),(0,n.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",onClick:()=>{a()(z.current,{allowTaint:!0,useCORS:!0}).then(e=>{let t=document.createElement("a");t.href=e.toDataURL("image/jpg"),t.download="".concat(null==O?void 0:O.reference,"-receipt.jpg"),t.click()})},children:(0,n.jsx)("p",{className:"text-xs",children:"Download as Image"})})]})]})]})]}),(0,n.jsx)("div",{className:"flex justify-center receipt-container",ref:z,children:(0,n.jsxs)("div",{className:"relative w-[350px] lg:w-[500px] min-h-full px-3 lg:px-10 py-1 lg:py-7 inline-block bg-white rounded-lg text-left overflow-hidden shadow-sm transform transition-all",children:[(0,n.jsx)("div",{className:"".concat((null==O?void 0:O.status)=="success"?"bg-primary-900":"bg-red-500"," rounded-full w-10 h-10 px-2 py-3 flex justify-center items-center mx-auto my-3"),children:(null==O?void 0:O.status)=="success"?(0,n.jsx)(m.l_A,{size:15,color:f.O.white}):(0,n.jsx)(m.aHS,{size:15,color:f.O.white})}),(0,n.jsx)("p",{className:"text-center font-nunito-bold text-xs mt-2",children:(0,v.XY)(parseInt(null==O?void 0:O.amount))}),(0,n.jsxs)("div",{className:"my-4",children:[(0,n.jsx)("p",{className:"font-nunito-bold text-sm mb-2",children:"Transaction Details"}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("p",{children:"Ref. Number "}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:null==O?void 0:O.reference})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Initiator "}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:null==O?void 0:null===(s=O.user)||void 0===s?void 0:null===(t=s.profile)||void 0===t?void 0:t.username})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Payment status "}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"".concat((null==O?void 0:O.status)=="success"?"text-primary-900":"text-red-500"," font-nunito-bold"),children:null==O?void 0:O.status})})]}),"Cable Subscription"===O.service_type&&(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Voucher Code: "}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:(0,v.Bv)(null==O?void 0:O.message)})})]}),"Bill Payment"!==O.service_type?(0,n.jsxs)("div",{className:"relative border border-gray-300 p-2 my-4 rounded-lg",children:[(0,n.jsx)("div",{className:"absolute -top-3 bg-white",children:(0,n.jsx)("h5",{className:"text-[12px] font-nunito-bold",children:"Description"})}),(0,n.jsxs)("p",{className:"text-[12px]",children:[null==O?void 0:O.description,". Your current balance is"," ",(0,v.XY)(null==O?void 0:O.final_balance)]})]}):(0,n.jsxs)("div",{className:"bg-gray-100 px-3 py-4 my-2 rounded-lg",children:[(0,n.jsx)("p",{className:"text-center font-nunito-bold text-xs mb-3",children:null==O?void 0:O.description}),(null==O?void 0:O.status)=="success"&&(0,n.jsxs)("div",{className:"my-2",children:[(null==L?void 0:null===(l=L.data)||void 0===l?void 0:l.amountOfPower)&&(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:"Amount of Power:"}),(0,n.jsx)("p",{className:"text-right text-xs",children:(0,v.aT)(null==L?void 0:null===(c=L.data)||void 0===c?void 0:c.amountOfPower)})]}),(null==L?void 0:null===(b=L.data)||void 0===b?void 0:b.tokenCode)&&(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsxs)("div",{className:"flex space-x-6 items-center",children:[(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:"Token:"}),(0,n.jsx)("p",{className:"text-right text-xs",id:"token",children:null==L?void 0:null===(w=L.data)||void 0===w?void 0:w.tokenCode})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>X("token"),children:(0,n.jsx)(m.esY,{color:f.O.primary})})})]}),(null==L?void 0:null===(k=L.data)||void 0===k?void 0:k.resetCode)&&(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsxs)("div",{className:"flex space-x-4 items-center",children:[(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:"Reset Token:"}),(0,n.jsx)("p",{className:"text-right text-xs",id:"reset_token",children:null==L?void 0:L.data.resetCode})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>X("reset_token"),children:(0,n.jsx)(m.esY,{color:f.O.primary})})})]}),(null==L?void 0:null===(_=L.data)||void 0===_?void 0:_.configureToken)&&(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsxs)("div",{className:"flex space-x-4 items-center",children:[(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:"Configure Token:"}),(0,n.jsx)("p",{className:"text-right text-xs",id:"configure_token",children:null==L?void 0:null===(C=L.data)||void 0===C?void 0:C.configureToken})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>X("configure_token"),children:(0,n.jsx)(m.esY,{color:f.O.primary})})})]})]})]}),(null==O?void 0:O.true_response)&&(0,n.jsxs)("div",{className:"relative border border-gray-300 py-2 px-3 rounded-lg my-3",children:[(0,n.jsx)("div",{className:"absolute -top-3 bg-white",children:(0,n.jsx)("h5",{className:"text-[12px] font-nunito-bold",children:"Api Response"})}),(0,n.jsx)("p",{className:"text-[12px]",children:null==O?void 0:O.true_response})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Date "}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:(0,v.o0)(null==O?void 0:O.created_at)})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Phone Number "}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:null==O?void 0:O.phone_number})})]}),(null==L?void 0:null===(T=L.data)||void 0===T?void 0:T.tokenCode)&&(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Meter Name:"}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs text-right",id:"meter_name",children:null==L?void 0:null===(P=L.data)||void 0===P?void 0:P.meter_name})})]}),(null==L?void 0:null===(I=L.data)||void 0===I?void 0:I.tokenCode)&&(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Meter Number:"}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs text-right",id:"meter_number",children:null==L?void 0:null===(R=L.data)||void 0===R?void 0:R.meter_number})})]}),(null==L?void 0:null===(D=L.data)||void 0===D?void 0:D.tokenCode)&&(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Address:"}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs text-right",id:"address",children:null==L?void 0:null===(E=L.data)||void 0===E?void 0:E.address})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Service Type "}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:null==O?void 0:O.service_type})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"Previous Balance "}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:(0,v.XY)(parseInt(null==O?void 0:O.initial_balance))})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)("p",{children:"New Balance "}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"font-nunito-bold text-xs",children:(0,v.XY)(parseInt(null==O?void 0:O.final_balance))})})]})]}),(0,n.jsx)("div",{className:"absolute right-0 top-0",children:(0,n.jsx)(o(),{src:"/images/circle1.png",alt:"star",width:70,height:70,style:{width:"auto",height:"auto"}})}),(0,n.jsx)("div",{className:"absolute -right-10 top-6",children:(0,n.jsx)(o(),{src:"/images/circle1.png",alt:"star",width:70,height:70,style:{width:"auto",height:"auto"}})}),(0,n.jsx)("div",{className:"absolute -right-10 -top-6",children:(0,n.jsx)(o(),{src:"/images/circle1.png",alt:"star",width:70,height:70,style:{width:"auto",height:"auto"}})}),(0,n.jsx)("div",{className:"absolute left-0 bottom-0",children:(0,n.jsx)(o(),{src:"/images/circle1.png",alt:"star",width:70,height:70,style:{width:"auto",height:"auto"}})}),(0,n.jsx)("div",{className:"absolute -left-10 bottom-6",children:(0,n.jsx)(o(),{src:"/images/circle1.png",alt:"star",width:70,height:70,style:{width:"auto",height:"auto"}})}),(0,n.jsx)("div",{className:"absolute -left-10 -bottom-6",children:(0,n.jsx)(o(),{src:"/images/circle1.png",alt:"star",width:70,height:70,style:{width:"auto",height:"auto"}})})]})})]})}},44481:function(e,t,s){"use strict";s.d(t,{Kx:function(){return x},TQ:function(){return d},V_:function(){return o}});var n=s(85893),i=s(9008),l=s.n(i),a=s(11163),r=s(1822),c=s.n(r);let o=e=>{let{title:t,description:s,ogType:i,ogImage:r,twImage:o,canonicalUrl:d}=e,x=(0,a.useRouter)();return(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:t}),(0,n.jsx)("meta",{name:"robots",content:"follow, index"}),(0,n.jsx)("meta",{name:"description",content:s}),(0,n.jsx)("meta",{property:"og:url",content:"".concat(c().siteUrl).concat(x.asPath)}),(0,n.jsx)("meta",{property:"og:type",content:i}),(0,n.jsx)("meta",{property:"og:site_name",content:c().title}),(0,n.jsx)("meta",{property:"og:description",content:s}),(0,n.jsx)("meta",{property:"og:title",content:t}),"Array"===r.constructor.name?r.map(e=>{let{url:t,index:s}=e;return(0,n.jsx)("meta",{property:"og:image",content:t},s+1)}):(0,n.jsx)("meta",{property:"og:image",content:r},r),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{name:"twitter:site",content:c().twitter}),(0,n.jsx)("meta",{name:"twitter:title",content:t}),(0,n.jsx)("meta",{name:"twitter:description",content:s}),(0,n.jsx)("meta",{name:"twitter:image",content:o}),(0,n.jsx)("link",{rel:"shortcut icon",href:"favicon.ico"}),(0,n.jsx)("link",{rel:"canonical",href:d||"".concat(c().siteUrl).concat(x.asPath)})]})},d=e=>{let{title:t,description:s}=e,i=c().siteUrl+c().socialBanner,l=c().siteUrl+c().socialBanner;return(0,n.jsx)(o,{title:t,description:s,ogType:"website",ogImage:i,twImage:l})},x=e=>{let{title:t,meta:s,thumbnail:i,createdAt:r,url:d,canonicalUrl:x}=e,m={weekday:"long",year:"numeric",month:"long",day:"numeric"};(0,a.useRouter)();let u=new Date(r).toLocaleDateString(c().locale,m),h=new Date(r||r).toLocaleDateString(c().locale,m),p=null!=i?i:[c().socialBanner];return c().author,"".concat(c().siteUrl).concat(c().siteLogoColor),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o,{title:t,description:s,ogType:"product",ogImage:p,twImage:p,canonicalUrl:x}),(0,n.jsxs)(l(),{children:[r&&(0,n.jsx)("meta",{property:"product:published_time",content:u}),r&&(0,n.jsx)("meta",{property:"product:modified_time",content:h})]})]})}},63885:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(11163),i=s.n(n);function l(e){let{res:t,status:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?(t.writeHead(s||302,{Location:e}),t.end()):"/"===e[0]&&"/"!==e[1]?i().push(e):window.location=e}}},function(e){e.O(0,[3365,7847,5443,5640,3559,8866,3412,7794,7799,2835,2888,9774,179],function(){return e(e.s=72876)}),_N_E=e.O()}]);