"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7794],{91666:function(e,t,a){a.d(t,{To:function(){return o},ZP:function(){return i},vx:function(){return c}});var s=a(87066),r=a(76489),n=a(31955);let o=n.Z.get("app_accessToken");n.Z.get("email_verify_status"),n.Z.get("_lev");let c=n.Z.get("_wv");function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?r.parse(e.req.headers.cookie||"").app_accessToken:n.Z.get("app_accessToken");return s.Z.create({baseURL:"https://app.megateq.net/api/v1/",headers:{authorization:t?"Bearer ".concat(t):""}})}},2846:function(e,t,a){a.d(t,{$G:function(){return i},BJ:function(){return E},Bv:function(){return _},Gi:function(){return m},JU:function(){return b},Jr:function(){return v},Sy:function(){return P},U:function(){return w},WK:function(){return o},X8:function(){return A},XI:function(){return c},XY:function(){return n},Y0:function(){return h},aT:function(){return S},f$:function(){return Z},jM:function(){return R},jl:function(){return y},kE:function(){return f},ni:function(){return d},o0:function(){return u},qb:function(){return p},wI:function(){return g},y7:function(){return l},zm:function(){return T}});var s=a(76489),r=a(31955);let n=e=>{let t=parseFloat(e);return isNaN(t)?"₦0":"₦"+Math.round(100*t)/100},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(null==e?void 0:e.length)>t?e.slice(0,t)+"...":e},c=e=>null!==e?"https://app.megateq.net/storage/"+e:"/images/user.png",i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return e?e.substr(0,t)+(e.length>t?"...":""):"..."},l=e=>{var t;return(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)?e.response.data:{status:!1,error:e.message}},u=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),s=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear().toString().slice(2),n=t.getHours(),o=n>=12?"PM":"AM";n=n%12||12;let c=t.getMinutes().toString().padStart(2,"0");return"".concat(a,"/").concat(s,"/").concat(r," ").concat(n,":").concat(c," ").concat(o)},d=e=>{let t=e.replace(/\D/g,"");return t.startsWith("0")&&(t="234"+t.substr(1)),t};function m(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){let a=s.parse(t);e=void 0!==a.email_verify_status?parseInt(a.email_verify_status):1}else{let t=r.Z.get("email_verify_status");e=void 0!==t?parseInt(t):0}return 1===e}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 3!==parseInt(e?s.parse(e)._lev:r.Z.get("_lev"))}let y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?!!s.parse(e).app_accessToken:!!r.Z.get("app_accessToken")},p=e=>{let t=e.trim().toLowerCase(),a=[{id:"1",name:"MTN",image:"/images/network/mtn_logo.svg"},{id:"2",name:"Airtel",image:"/images/network/airtel-logo.svg"},{id:"3",name:"Glo",image:"/images/network/glo-logo.svg"},{id:"4",name:"9mobile",image:"/images/network/9mobile_logo.svg"},{id:"5",name:"StarTimes",image:"/images/cable/startime.png"},{id:"7",name:"GOTV Nigeria",image:"/images/cable/gotv.png"},{id:"8",name:"DSTV Nigeria",image:"/images/cable/dstv.png"},{id:"9",name:"SHOWMAX",image:"/images/cable/showmax.png"}].find(e=>{let a=e.name.trim().toLowerCase();return a===t||a.startsWith(t.split(" ")[0])||t.startsWith(a)});return a?a.image:""},h=(e,t)=>(({1:/^(07025|07026|07072|07079)\d{6}$|^(0703|0704|0706|0707|0803|0806|0810|0813|0814|0816|0903|0906|0913|0916)\d{7}$/,3:/^(0701|0708|0702|0802|0808|0812|0902|0904|0907|0901|0911|0912)\d{7}$/,4:/^(0705|0805|0807|0811|0815|0905|0915)\d{7}$/,2:/^(0809|0909|0817|0818|0908)\d{7}$/})[t]||/^0\d{10}$/).test(e),S=e=>{let t=parseFloat(e).toFixed(2);return t.endsWith("kw")?t:t+"kw"},v=e=>{if("string"!=typeof e&&e instanceof Date||(e=new Date(e)),isNaN(e.getTime()))throw Error("Invalid date");let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)},_=e=>{let t=null==e?void 0:e.indexOf("Voucher : ");if(-1!==t){let a=null==e?void 0:e.substring(t+10);return null==a?void 0:a.trim()}return null},f=[{name:"All",value:"All"},{name:"Airtime Topup",value:"Airtime Topup"},{name:"Data Topup",value:"Data Topup"},{name:"Bill Payment",value:"Bill Payment"},{name:"Cable Subscription",value:"Cable Subscription"},{name:"Bonus Earning",value:"Bonus Earning"},{name:"Bonus Withdrawal",value:"Bonus Withdrawal"},{name:"Referral Earning",value:"Referral Earning"},{name:"Referral Withdrawal",value:"Referral Withdrawal"},{name:"Wallet Funding",value:"Wallet Funding"}],A=(e,t)=>{for(let a of t)if(!e[a]||"string"==typeof e[a]&&""===e[a].trim()||Array.isArray(e[a])&&0===e[a].length||"object"==typeof e[a]&&!Array.isArray(e[a])&&0===Object.keys(e[a]).length)return{status:!1,message:"".concat(a," is required and cannot be empty.")};return{status:!0,message:"All fields are valid."}},T=(e,t,a)=>{let s=t.findIndex(t=>t.key===e);if(-1===s)return;let r=(s+1)%t.length;a(t[r].key)},E=e=>{let t=new Date(e),a=new Date,s=a.toDateString()===t.toDateString(),r=t.getHours(),n=t.getMinutes(),o=r>=12?"pm":"am";r%=12,r=r||12;let c=n<10?"0".concat(n):n;return s?"Today ".concat(r,":").concat(c).concat(o):(e=>{let t=new Date;return t.setDate(a.getDate()-1),t.toDateString()===e.toDateString()})(t)?"Yesterday ".concat(r,":").concat(c).concat(o):(e=>{let t=new Date;return t.setDate(a.getDate()-7),e>t&&e<a})(t)?"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]," ").concat(r,":").concat(c).concat(o):"".concat(t.toDateString()," ").concat(r,":").concat(c).concat(o)},w=e=>{switch(e){case"MTN":return"#FFCC00";case"AIRTEL":return"#eb1922";case"GLO":return"#50B651";case"9MOBILE":return"#D6E806";default:return"gray"}},R=(e,t)=>e&&t?{promo_flag:"".concat(t,"% Off"),promo_price:e/(1-t/100)}:null;function b(e){if(!e||0===e.length)return{averageRating:0,percentageRating:0};let t=e.length,a=e.reduce((e,t)=>e+t.rating,0)/t;return{averageRating:parseFloat(a.toFixed(1)),percentageRating:parseFloat((a/5*100).toFixed(1))}}function P(e){let t=Math.floor((new Date-new Date(e))/1e3),a=Math.floor(t/60),s=Math.floor(a/60),r=Math.floor(s/24),n=Math.floor(r/7);return n>=1?"".concat(n," week").concat(n>1?"s":""," ago"):r>=1?"".concat(r," day").concat(r>1?"s":""," ago"):s>=1?"".concat(s," hour").concat(s>1?"s":""," ago"):a>=1?"".concat(a," minute").concat(a>1?"s":""," ago"):"".concat(t," second").concat(t>1?"s":""," ago")}let Z=e=>{var t;return(null==e?void 0:null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())+(null==e?void 0:e.slice(1))}},97794:function(e,t,a){a.d(t,{J:function(){return p}});var s=a(67294),r=a(87066),n=a(31955),o=a(11163),c=a(55756),i=a(86501),l=a(81758),u=a(45932),d=a(91666),m=a(2846),g=a(32694),y=a(87369);let p=function(){let{middleware:e,redirectIfAuthenticated:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,o.useRouter)(),[p,h]=(0,c.fP)(["email_verify_status","app_accessToken"]),S=async()=>{try{var e;let t=await (0,d.ZP)().get("/network/data/plan"),a=null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.data,s=null==a?void 0:a.map(e=>({value:e.id,name:e.name,type:e.dataType,image:e.image}));a?w({type:g.J.SET_NETWORK_DATA_PLANS,networkDataPlans:s}):w({type:g.J.SET_NETWORK_DATA_PLANS,networkDataPlans:[]})}catch(e){console.log((0,m.y7)(e))}},[{loading:v,userInfo:_,errorModalStatus:f,successModalStatus:A,oneTimeModalStatus:T,tokenModalStatus:E},w]=(0,y.C4)(),R=async()=>{try{var e;let t=await (0,d.ZP)().get("/get-updated-user-information"),a=null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.user;return w({type:g.J.SET_USER_INFO,userInfo:a}),w({type:g.J.SET_USER_ACCOUNTS,userAccounts:null==a?void 0:a.virtual_account}),w({type:g.J.SET_USER_SHIPPING_ADDRESS,shippingAddress:null==a?void 0:a.shipping_address}),h("email_verify_status",null==a?void 0:a.email_verify,{path:"/",sameSite:!0}),a&&S(),a}catch(e){throw console.log((0,m.y7)(e)),e}},{data:b,error:P}=(0,l.ZP)(d.To?"/get-updated-user-information":null,R),{data:Z,bank:D,payment_gateways:O}=(0,l.ZP)("/get-site-basic-settings",()=>(0,d.ZP)().get("/get-site-basic-settings").then(e=>{w({type:g.J.SET_SITE_INFO,siteSetting:e.data.data.site_sittings}),w({type:g.J.SET_SITE_ACCOUNTS,siteAccounts:e.data.data.bank}),w({type:g.J.SET_SITE_PAYMENT_GATEWAYS,sitePaymentGateways:e.data.data.payment_gateways}),e.data}).catch(e=>{if(422!==e.status)throw e})),k=async e=>{let{setErrors:t,setStatus:s,setIsLoading:r,...n}=e;t([]),r(!0);try{(0,d.ZP)().post("/login",n).then(e=>{var t,n;r(!1),s(e.data.message),(0,u.XA)(e.data.message),h("app_accessToken",e.data.access_token,{path:"/",maxAge:3600,sameSite:!0}),h("email_verify_status",e.data.user.email_verify,{path:"/",sameSite:!0}),h("_lev",e.data.user.user_level_id,{path:"/",sameSite:!0}),h("_wv",e.data.user.hasVerifyWallet,{path:"/",sameSite:!0}),R(),S();let o=null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.email_verify;if("1"===o){a.push("/");return}console.log("Not verified"),a.push("/verify")}).catch(e=>{console.log(e),r(!1),(0,u.Eo)((0,m.y7)(e).message)})}catch(e){console.log(e),r(!1),(0,u.Eo)("Networking error: "+e.message)}},J=async e=>{let{setErrors:t,setStatus:a,setIsLoading:s,...r}=e;t([]),a(null),s(!0);try{(0,d.ZP)().post("/register",r).then(e=>{a(e.data.message),s(!1),i.Am.success(e.data.message),h("app_accessToken",e.data.access_token,{path:"/",maxAge:3600,sameSite:!0}),h("email_verify_status",e.data.user.email_verify,{path:"/",maxAge:3600,sameSite:!0}),setTimeout(()=>{window.location.pathname="/"+e.data.nextUrl},1e3)}).catch(e=>{s(!1),t((0,m.y7)(e));let a=(0,m.y7)(e).message;i.Am.error(a)})}catch(e){s(!1),i.Am.error((0,m.y7)(e).message)}},M=async()=>{n.Z.remove("app_accessToken"),n.Z.remove("email_verify_status"),n.Z.remove("_lev"),n.Z.remove("_wv"),sessionStorage.removeItem("notificationShown_dashboard"),sessionStorage.removeItem("notificationShown_data-top-up"),sessionStorage.removeItem("notificationShown_fund-wallet"),sessionStorage.removeItem("notificationShown_profile"),sessionStorage.removeItem("notificationShown_electricity"),sessionStorage.removeItem("notificationShown_cabletv"),sessionStorage.removeItem("notificationShown_sendtobank"),sessionStorage.removeItem("notificationShown_setting"),sessionStorage.removeItem("notificationShown_airtime-top-up"),sessionStorage.removeItem("advertModalShown"),sessionStorage.removeItem("doNotShowAdvertAgainFlag"),window.location.pathname="/login",i.Am.success("Session logged out successfully!")},C=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("/reset-password",a).then(e=>{t(!1),i.Am.success(e.data.message),setTimeout(()=>{window.location.pathname="/login"},2e3)}).catch(e=>{t(!1);let a=(0,m.y7)(e);i.Am.error(a.message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},I=async e=>{let{setIsLoading:t,...s}=e;t(!0);try{(0,d.ZP)().post("/email-verify-submit",s).then(e=>{t(!1),i.Am.success(e.data.message),h("email_verify_status",e.data.user.email_verify,{path:"/",maxAge:3600,sameSite:!0}),a.push({pathname:"success",query:{title:"Congratulations",description:e.data.message,goto:"dashboard",gotoText:"Go Home"}})}).catch(e=>{t(!1);let a=(0,m.y7)(e);i.Am.error(a.message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},N=async e=>{let{setIsLoadingResend:t,...a}=e;t(!0);try{(0,d.ZP)().post("/resend-verify-submit",a).then(e=>{t(!1),i.Am.success(e.data.message)}).catch(e=>{t(!1);let a=(0,m.y7)(e);i.Am.error(a.message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},U=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("/setting/update-profile",a).then(e=>{t(!1),i.Am.success(e.data.message)}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},L=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("/setting/change-password",a).then(e=>{t(!1),i.Am.success(e.data.message),setTimeout(()=>{M()},1500)}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},F=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("/transactions/change-pin",a).then(e=>{t(!1),i.Am.success(e.data.message)}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},x=async e=>{let{setIsLoading:t,...s}=e;t(!0);try{(0,d.ZP)().post("/transactions/create-pin",s).then(e=>{t(!1),i.Am.success(e.data.data.message),w({type:g.J.SET_USER_INFO,userInfo:e.data.user}),a.back()}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},W=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("/verification/wallet-kyc",a).then(e=>{t(!1),h("_wv",e.data.user.hasVerifyWallet,{path:"/",maxAge:3600,sameSite:!0}),w({type:g.J.SET_SUCCESS,success:{message:e.data.message,description:e.data.description,link:e.data.link,transationId:e.data.transaction.id}}),w({type:g.J.SET_SUCCESS_MODAL,successModalStatus:!A})}).catch(e=>{t(!1),w({type:g.J.SET_ERROR,error:(0,m.y7)(e)}),w({type:g.J.SET_ERROR_MODAL,errorModalStatus:!f})})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},B=async e=>{let{setIsLoading:t,formData:a}=e;t(!0);try{(0,d.ZP)().post("/verification/profile-kyc",a,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{t(!1),h("_wv",e.data.user.hasVerifyWallet,{path:"/",maxAge:3600,sameSite:!0}),i.Am.success(e.data.message,{duration:5e3}),setTimeout(()=>{window.location.reload()},5e3)}).catch(e=>{t(!1),w({type:g.J.SET_ERROR,error:(0,m.y7)(e)}),w({type:g.J.SET_ERROR_MODAL,errorModalStatus:!f})})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},G=async e=>{let{setIsLoading:t,setVerifyStatus:a,...s}=e;t(!0),a(!1);try{(0,d.ZP)().post("/verify/transaction/pin",s).then(e=>{t(!1),a(e.data.status),i.Am.success(e.data.description,{duration:1e3})}).catch(e=>{t(!1),a(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),w({type:g.J.SET_LOADING,loading:!v}),w({type:g.J.SET_PIN_MODAL,inputPinModalStatus:!1}),a(!1),i.Am.error((0,m.y7)(e).message)}},Y=async e=>{let{setIsLoading:t,setInputs:a,formData:s}=e;t(!0);try{await r.Z.post("".concat("https://app.megateq.net/api/v1/","support/submit-new-ticket"),s,{headers:{"Content-Type":"multipart/form-data",authorization:"Bearer ".concat(d.To)}}).then(e=>{t(!1),a({support_type_id:"",subject:"",message:"",attachment:""}),w({type:g.J.SET_SUCCESS,success:{message:e.data.message,description:e.data.description}}),w({type:g.J.SET_SUCCESS_MODAL,successModalStatus:!A})}).catch(e=>{t(!1),w({type:g.J.SET_ERROR,error:(0,m.y7)(e)}),w({type:g.J.SET_ERROR_MODAL,errorModalStatus:!f})})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},V=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("/send/support/email",a).then(e=>{t(!1),i.Am.success(e.data.message)}).catch(e=>{t(!1),w({type:g.J.SET_ERROR,error:(0,m.y7)(e)}),w({type:g.J.SET_ERROR_MODAL,errorModalStatus:!f})})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},j=async e=>{let{setIsLoading:t,...a}=e;t(!0),a.user_id=null==_?void 0:_.id;try{(0,d.ZP)().post("/fund/coupon",a).then(e=>{t(!1),w({type:g.J.SET_SUCCESS,success:{message:e.data.message,description:e.data.description,title:e.data.title,link:"/receipt",transactionId:e.data.reference}}),w({type:g.J.SET_SUCCESS_MODAL,successModalStatus:!A})}).catch(e=>{t(!1),w({type:g.J.SET_ERROR,error:(0,m.y7)(e)}),w({type:g.J.SET_ERROR_MODAL,errorModalStatus:!f})})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},$=async e=>{let{setIsLoading:t,...s}=e;t(!0);try{(0,d.ZP)().post("/buy/data",s).then(e=>{var s,r,n,o,c;if((0,u.XA)(null!==(o=null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)&&void 0!==o?o:"Transaction successful."),t(!1),null==e?void 0:null===(n=e.data.data)||void 0===n?void 0:n.reference){let t=null==e?void 0:null===(c=e.data.data)||void 0===c?void 0:c.reference;setTimeout(()=>{a.push("/dashboard/transaction/"+t)},1500)}else setTimeout(()=>{a.push("/dashboard/transaction")},1500)}).catch(e=>{var a;t(!1);let s=(0,m.y7)(e);(0,u.Eo)(null!==(a=null==s?void 0:s.message)&&void 0!==a?a:"There was an error completing your transaction. Please try again.")})}catch(e){t(!1),(0,u.Eo)("There was an error completing your transaction. Please try again.")}},q=async e=>{let{setIsLoading:t,...s}=e;t(!0);try{let e=s.phone_number.split(",");if(e.length>20){i.Am.error("You can only send data to a maximum of ".concat(20," phone numbers.")),t(!1);return}let r=[];for(let t=0;t<e.length;t+=5){let a=e.slice(t,t+5).map(e=>e.trim());try{for(let e of a)try{let t=await (0,d.ZP)().post("/buy/data",{...s,phone_number:e});r.push({phoneNumber:e,status:"success",response:t}),i.Am.success("Data sent to ".concat(e))}catch(t){r.push({phoneNumber:e,status:"error",error:(0,m.y7)(t)}),i.Am.error("Error sending data to ".concat(e,": ").concat((0,m.y7)(t).message))}}catch(e){i.Am.error("An error occurred while processing a batch. Please try again!");break}}w({type:g.J.SET_BULK_DATA_RESULT,bulkDataTransactionResult:r}),a.push("/dashboard/transaction/multiple")}catch(e){i.Am.error("An error occurred while processing the transaction. Please try again!")}finally{t(!1)}},H=async e=>{let{setIsLoading:t,...s}=e;t(!0);try{(0,d.ZP)().post("/buy/airtime",s).then(e=>{var s,r,n;t(!1),(0,u.XA)(null!==(n=null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)&&void 0!==n?n:"Transaction successful."),setTimeout(()=>{var t;a.push("/dashboard/transaction/".concat(null==e?void 0:null===(t=e.data.data)||void 0===t?void 0:t.reference))},1500)}).catch(e=>{var a;t(!1);let s=(0,m.y7)(e);(0,u.Eo)(null!==(a=null==s?void 0:s.message)&&void 0!==a?a:"There was an error completing your transaction. Please try again.")})}catch(e){t(!1),i.Am.error(e.response.data.message)}},K=async e=>{let{setIsLoading:t,...s}=e;t(!0);try{let e=s.phone_number.split(",");if(e.length>20){i.Am.error("You can only send data to a maximum of ".concat(20," phone numbers.")),t(!1);return}let r=[];for(let t=0;t<e.length;t+=5){let a=e.slice(t,t+5).map(e=>e.trim());try{for(let e of a)try{let t=await (0,d.ZP)().post("/buy/airtime",{...s,phone_number:e});r.push({phoneNumber:e,status:"success",response:t}),i.Am.success("Airtime sent to ".concat(e))}catch(t){r.push({phoneNumber:e,status:"error",error:(0,m.y7)(t)}),i.Am.error("Error sending data to ".concat(e,": ").concat((0,m.y7)(t).message))}}catch(e){i.Am.error("An error occurred while processing a batch. Please try again!");break}}w({type:g.J.SET_BULK_DATA_RESULT,bulkDataTransactionResult:r}),a.push("/dashboard/transaction/multiple")}catch(e){i.Am.error("An error occurred while processing the transaction. Please try again!")}finally{t(!1)}},X=async e=>{try{return(await (0,d.ZP)().get("verify/email/".concat(e))).data}catch(e){i.Am.error((0,m.y7)(e).message)}},z=async e=>{try{return(await (0,d.ZP)().get("verify/phone/".concat(e))).data}catch(e){i.Am.error((0,m.y7)(e).message)}},Q=async e=>{let{setGenerating:t}=e;t(!0);try{(0,d.ZP)().get("virtual-account/create").then(e=>{t(!1),w({type:g.J.SET_USER_INFO,userInfo:e.data.user}),i.Am.success(e.data.data.message),setTimeout(()=>{window.location.reload()},1e3)}).catch(e=>{t(!1),w({type:g.J.SET_ERROR,error:(0,m.y7)(e)}),w({type:g.J.SET_ERROR_MODAL,errorModalStatus:!f})})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},ee=async e=>{let{setIsLoadingKey:t,...a}=e;t(!0);try{(0,d.ZP)().post("regenerate/api-keys",a).then(e=>{t(!1),i.Am.success(e.data.message),setTimeout(()=>{window.location.reload()},1e3)}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},et=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("update/whitelist-domains",a).then(e=>{t(!1),i.Am.success(e.data.message),setTimeout(()=>{window.location.reload()},1e3)}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},ea=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("send/invitation",a).then(e=>{t(!1),i.Am.success(e.data.message)}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},es=async e=>{let{setIsLoading:t,type:a,...s}=e;t(!0);let r={...s,type:a};try{(0,d.ZP)().post("withdraw/bonus",r).then(e=>{t(!1),i.Am.success(e.data.message),setTimeout(()=>{window.location.reload()},1e3)}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},er=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("setting/account-upgrade",a).then(e=>{t(!1),h("_lev",e.data.user.user_level_id,{path:"/",maxAge:3600,sameSite:!0});var a=e.data.data.level;console.log(a),"Reseller"===a?(i.Am.success(e.data.message+". You will be redirected shortly to complete your business kyc verification so as to upgrade your privileges",{duration:1e4}),setTimeout(()=>{window.location.pathname="/dashboard/profile?type=business_verification"},1e4)):(w({type:g.J.SET_SUCCESS_MODAL,successModalStatus:!A}),w({type:g.J.SET_SUCCESS,success:{message:e.data.message,description:e.data.data.service,title:"Successfully upgraded to ".concat(e.data.data.level),link:"/transaction",transactionId:e.data.data.reference}}))}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},en=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("fund/manual-funding",a).then(e=>{t(!1),i.Am.success(e.data.message)}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},eo=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("dynamic/virtual-account/create",a).then(e=>{t(!1),i.Am.success(e.data.message),w({type:g.J.ONETIMEACCOUNTDETAILS,oneTimeAccountDetails:{bank_name:e.data.account_details.bank_name,message:e.data.message,account_number:e.data.account_details.account_number,account_name:e.data.account_details.account_name,expiresat:e.data.account_details.expiresat}}),w({type:g.J.ONETIMEMODAL,oneTimeModalStatus:!T})}).catch(e=>{t(!1),i.Am.error((0,m.y7)(e).message)})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},ec=async e=>{let{setIsLoading:t,...a}=e;t(!0);try{(0,d.ZP)().post("/buy/cable",a).then(e=>{t(!1),w({type:g.J.SET_SUCCESS,success:{message:e.data.data.message,description:e.data.data.message,title:e.data.data.service,link:"/transaction",transactionId:e.data.data.reference}}),w({type:g.J.SET_SUCCESS_MODAL,successModalStatus:!A})}).catch(e=>{t(!1),console.log(e),i.Am.error(e.response.data.message)})}catch(e){t(!1),i.Am.error(e.response.data.message)}},ei=async e=>{let{setIsLoading:t,setInputs:a,...s}=e;t(!0);try{(0,d.ZP)().post("/pay-bill",s).then(e=>{t(!1),a({}),i.Am.success(e.data.data.message,{duration:3e3}),w({type:g.J.SET_TOKEN,token:e.data.data.data}),w({type:g.J.SET_TOKEN_MODAL,tokenModalStatus:!E})}).catch(e=>{t(!1),console.log(e),i.Am.error(e.response.data.message)})}catch(e){t(!1),i.Am.error(e.response.data.message)}},el=async e=>{let{setIsLoading:t,setInputs:a,...s}=e;t(!0);try{(0,d.ZP)().post("/fund/withdraw",s).then(e=>{t(!1),a({}),"success"==e.data.status?(w({type:g.J.SET_SUCCESS,success:{message:e.data.data.message,description:e.data.data.message,title:e.data.data.service,link:"/transaction",transactionId:e.data.data.reference}}),w({type:g.J.SET_SUCCESS_MODAL,successModalStatus:!A})):(i.Am.loading(e.data.message,{duration:1e4,position:"top-right"}),setTimeout(()=>{window.location.pathname="/dashboard/transaction/".concat(e.data.data.reference)},1e4))}).catch(e=>{t(!1),console.log(e),i.Am.error(e.response.data.message)})}catch(e){t(!1),i.Am.error(e.response.data.message)}},eu=async e=>{let{setIsLoading:t,formData:a}=e;t(!0);try{(0,d.ZP)().post("/account/profile-kyc",a,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{t(!1),h("_wv",e.data.user.hasVerifyWallet,{path:"/",maxAge:3600,sameSite:!0}),i.Am.success(e.data.message,{duration:5e3}),setTimeout(()=>{window.location.reload()},5e3)}).catch(e=>{t(!1),w({type:g.J.SET_ERROR,error:(0,m.y7)(e)}),w({type:g.J.SET_ERROR_MODAL,errorModalStatus:!f})})}catch(e){t(!1),i.Am.error((0,m.y7)(e).message)}},ed=async e=>{let{type:t,setGenerating:a}=e;a({type:t,status:!0});try{(0,d.ZP)().post("generate-virtual-account",{type:t}).then(e=>{let{data:t}=e;console.log(t),a({type:"",status:!1}),i.Am.success(t.message)}).catch(e=>{a({type:"",status:!1})})}catch(e){a({type:"",status:!1}),i.Am.error((0,m.y7)(e).message)}},em=async()=>{try{var e;let t=await (0,d.ZP)().get("/branches");w({type:g.J.SET_BRANCHES,branches:null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.data})}catch(e){console.log((0,m.y7)(e))}},eg=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/products?page=1&per_page=50";try{let t=await (0,d.ZP)().get(e);w({type:g.J.SET_PRODUCTS,products:t.data})}catch(e){console.log((0,m.y7)(e))}},ey=async()=>{try{return(await (0,d.ZP)().get("/categories")).data.data}catch(e){throw console.log((0,m.y7)(e)),e}},{data:ep,error:eh,isLoading:eS}=(0,l.ZP)("/categories",ey,{onSuccess:e=>{w({type:g.J.SET_CATEGORY,categories:e})},onError:e=>{console.error("Failed to fetch categories:",e)}}),ev=async()=>{try{return(await (0,d.ZP)().get("/get/hero/advert")).data.data}catch(e){throw console.log((0,m.y7)(e)),e}},{data:e_,error:ef,isLoading:eA}=(0,l.ZP)("/get/hero/advert",ev,{onSuccess:e=>{w({type:g.J.SET_HERO_ADVERT,adverts:e})},onError:e=>{console.error("Failed to fetch adverts:",e)}}),eT=(0,s.useCallback)(async()=>{try{(0,d.ZP)().get("get/all/notification").then(e=>{let{data:t}=e;t?w({type:g.J.SET_USER_NOTIFICATIONS,userNotifications:t}):w({type:g.J.SET_USER_NOTIFICATIONS,userNotifications:[]})}).catch(e=>{let t=(0,m.y7)(e);console.log(t)})}catch(e){console.log(e)}},[w]),eE=(0,s.useCallback)(async()=>{try{let e=(await (0,d.ZP)().get("/advert-get")).data.data;e?w({type:g.J.SET_ADVERTS,siteAdverts:e}):w({type:g.J.SET_ADVERTS,siteAdverts:[]})}catch(e){console.log((0,m.y7)(e))}},[w]);return(0,s.useEffect)(()=>{"guest"===e&&t&&(0,m.jl)()&&a.push(t)},[e,t,a]),(0,s.useEffect)(()=>{"wallet_verification"===e&&"false"===d.vx&&(i.Am.error("You have to complete your kyc to access this page.",{duration:4e3}),a.push(t))},[e,t,a]),(0,s.useEffect)(()=>{"verify"!==e||(0,m.jl)()?"verify"===e&&(0,m.jl)()&&(0,m.Gi)()&&a.push(t):a.push("/login")},[e,t,a]),(0,s.useEffect)(()=>{"auth"!==e||(0,m.jl)()||a.push(t)},[e,t,a]),{user:b,site_sittings:Z,register:J,verifyEmail:X,verifyPhone:z,forgotPassword:C,verify:I,resendVerify:N,login:k,logout:M,changePassword:L,changeTransactionPin:F,createTransactionPin:x,verifyKyc:W,BusinessKycVerification:B,openNewTicket:Y,sendEmailSupport:V,fundCoupon:j,buyData:$,buyDataMultiple:q,buyAirtime:H,buyAirtimeMultiple:K,verifyTransactionPin:G,createVirtualAccount:Q,changeProfileInformation:U,regenerateKeys:ee,updateWhiteList:et,sendEmailInvite:ea,withdrawBonus:es,upgradePlan:er,submitTransferForm:en,createOneTimeAccount:eo,buyCableTv:ec,buyElectricity:ei,SendToBank:el,KycLevelUpdate:eu,generateVirtualAccount:ed,fetchNotifications:eT,getAdvert:eE,fetchProducts:eg,fetchBranches:em,getDataNetworks:S}}}}]);